<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pong</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#0b0f1a;
  --panel:rgba(255,255,255,.08);
  --border:rgba(255,255,255,.15);
  --text:#eaeaff;
  --accent:#6c8cff;
}

*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  font-family:system-ui,sans-serif;
}

body{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle at top,#141b33,var(--bg));
  color:var(--text);
}

.game{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:18px;
  padding:1.2rem;
  text-align:center;
  backdrop-filter:blur(12px);
}

h1{
  margin-bottom:.5rem;
}

canvas{
  background:#050813;
  border-radius:12px;
  display:block;
  margin:0 auto;
}

.info{
  margin-top:.6rem;
  font-size:.9rem;
  opacity:.85;
}

button{
  margin-top:.8rem;
  padding:.5rem 1rem;
  border-radius:10px;
  border:1px solid var(--border);
  background:transparent;
  color:var(--text);
  cursor:pointer;
}

button:hover{
  background:rgba(255,255,255,.12);
}
</style>
</head>

<body>

<div class="game">
  <h1>üèì Pong</h1>
  <canvas id="canvas" width="420" height="260"></canvas>
  <div class="info">
    You: <b id="pScore">0</b> |
    AI: <b id="aScore">0</b><br>
    Controls: ‚Üë ‚Üì
  </div>
  <button onclick="reset()">Restart</button>
</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

const pScoreEl = document.getElementById("pScore");
const aScoreEl = document.getElementById("aScore");

const paddleH = 60;
const paddleW = 8;
const ballSize = 8;

let player = { x:10, y:100, score:0 };
let ai = { x:canvas.width-18, y:100, score:0 };
let ball = { x:210, y:130, vx:4, vy:3 };

let up=false, down=false;

document.addEventListener("keydown",e=>{
  if(e.key==="ArrowUp") up=true;
  if(e.key==="ArrowDown") down=true;
});

document.addEventListener("keyup",e=>{
  if(e.key==="ArrowUp") up=false;
  if(e.key==="ArrowDown") down=false;
});

function reset(){
  player.score = ai.score = 0;
  updateScore();
  resetBall();
}

function resetBall(){
  ball.x = canvas.width/2;
  ball.y = canvas.height/2;
  ball.vx = Math.random()>0.5 ? 4 : -4;
  ball.vy = (Math.random()*4)-2;
}

function update(){
  // player movement
  if(up) player.y -= 5;
  if(down) player.y += 5;
  player.y = Math.max(0,Math.min(canvas.height-paddleH,player.y));

  // AI movement (deliberately beatable)
  const center = ai.y + paddleH/2;
  if(center < ball.y-10) ai.y += 3;
  if(center > ball.y+10) ai.y -= 3;

  // ball
  ball.x += ball.vx;
  ball.y += ball.vy;

  // wall bounce
  if(ball.y <= 0 || ball.y+ballSize >= canvas.height){
    ball.vy *= -1;
  }

  // paddle collision
  collide(player);
  collide(ai);

  // scoring
  if(ball.x < 0){
    ai.score++;
    updateScore();
    resetBall();
  }
  if(ball.x > canvas.width){
    player.score++;
    updateScore();
    resetBall();
  }
}

function collide(p){
  if(
    ball.x < p.x+paddleW &&
    ball.x+ballSize > p.x &&
    ball.y < p.y+paddleH &&
    ball.y+ballSize > p.y
  ){
    const hit = (ball.y - (p.y+paddleH/2)) / (paddleH/2);
    ball.vx *= -1;
    ball.vy = hit * 5;
  }
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // center line
  ctx.setLineDash([5,5]);
  ctx.strokeStyle="rgba(255,255,255,.2)";
  ctx.beginPath();
  ctx.moveTo(canvas.width/2,0);
  ctx.lineTo(canvas.width/2,canvas.height);
  ctx.stroke();
  ctx.setLineDash([]);

  // paddles
  ctx.fillStyle="#6c8cff";
  ctx.fillRect(player.x,player.y,paddleW,paddleH);
  ctx.fillRect(ai.x,ai.y,paddleW,paddleH);

  // ball
  ctx.fillRect(ball.x,ball.y,ballSize,ballSize);
}

function updateScore(){
  pScoreEl.textContent = player.score;
  aScoreEl.textContent = ai.score;
}

function loop(){
  update();
  draw();
  requestAnimationFrame(loop);
}

loop();
</script>

</body>
</html>
