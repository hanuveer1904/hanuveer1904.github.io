<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Snake Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#0b0f1a;
  color:#eaeaff;
  font-family:system-ui,sans-serif;
}

.game-box{
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.15);
  border-radius:16px;
  padding:1rem;
  text-align:center;
}

h1{ margin-bottom:.5rem }

canvas{
  background:#060914;
  border-radius:12px;
  margin-top:.5rem;
}

.info{
  display:flex;
  justify-content:space-between;
  margin-top:.5rem;
  font-size:.9rem;
  opacity:.85;
}
</style>
</head>

<body>

<div class="game-box">
  <h1>üêç Snake</h1>
  <canvas id="game" width="360" height="360"></canvas>
  <div class="info">
    <span id="score">Score: 0</span>
    <span>Arrow Keys</span>
  </div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const size = 18;
const cols = canvas.width / size;
const rows = canvas.height / size;

let snake, food, dir, score, loop;

function reset(){
  snake = [{x:9,y:9}];
  dir = {x:1,y:0};
  score = 0;
  food = spawnFood();
  document.getElementById("score").textContent = "Score: 0";
}

function spawnFood(){
  return {
    x:Math.floor(Math.random()*cols),
    y:Math.floor(Math.random()*rows)
  };
}

function update(){
  const head = {
    x:snake[0].x + dir.x,
    y:snake[0].y + dir.y
  };

  // wall collision
  if(head.x<0||head.y<0||head.x>=cols||head.y>=rows){
    return gameOver();
  }

  // self collision
  for(let s of snake){
    if(s.x===head.x && s.y===head.y){
      return gameOver();
    }
  }

  snake.unshift(head);

  if(head.x===food.x && head.y===food.y){
    score++;
    document.getElementById("score").textContent = "Score: " + score;
    food = spawnFood();
  } else {
    snake.pop();
  }
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // food
  ctx.fillStyle="#ff6b6b";
  ctx.fillRect(food.x*size,food.y*size,size,size);

  // snake
  ctx.fillStyle="#6c8cff";
  snake.forEach(s=>{
    ctx.fillRect(s.x*size,s.y*size,size-1,size-1);
  });
}

function gameOver(){
  clearInterval(loop);
  alert("Game Over! Score: " + score);
  reset();
  loop = setInterval(tick,120);
}

function tick(){
  update();
  draw();
}

document.addEventListener("keydown",e=>{
  if(e.key==="ArrowUp" && dir.y!==1) dir={x:0,y:-1};
  if(e.key==="ArrowDown" && dir.y!==-1) dir={x:0,y:1};
  if(e.key==="ArrowLeft" && dir.x!==1) dir={x:-1,y:0};
  if(e.key==="ArrowRight" && dir.x!==-1) dir={x:1,y:0};
});

reset();
loop = setInterval(tick,120);
</script>

</body>
</html>
