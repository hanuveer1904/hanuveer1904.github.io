<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Reaction Time Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#0b0f1a;
  --panel:rgba(255,255,255,.08);
  --border:rgba(255,255,255,.15);
  --text:#eaeaff;
  --ready:#6c8cff;
  --go:#2ecc71;
  --bad:#ff6b6b;
}

*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  font-family:system-ui,sans-serif;
}

body{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle at top,#141b33,var(--bg));
  color:var(--text);
}

.game{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:18px;
  padding:2rem;
  width:340px;
  text-align:center;
  backdrop-filter:blur(12px);
}

h1{
  margin-bottom:.6rem;
}

.box{
  margin:1.2rem 0;
  padding:3rem 1rem;
  border-radius:16px;
  font-size:1.2rem;
  cursor:pointer;
  user-select:none;
  transition:background .2s ease;
}

.box.ready{
  background:var(--ready);
}

.box.wait{
  background:rgba(255,255,255,.15);
}

.box.go{
  background:var(--go);
}

.box.tooSoon{
  background:var(--bad);
}

.stats{
  font-size:.9rem;
  opacity:.9;
}
</style>
</head>

<body>

<div class="game">
  <h1>⚡ Reaction Test</h1>

  <div id="box" class="box wait">Click to start</div>

  <div class="stats">
    Best: <b id="best">—</b> ms
  </div>
</div>

<script>
const box = document.getElementById("box");
const bestEl = document.getElementById("best");

let state = "idle";
let startTime = 0;
let timeout;
let best = null;

box.onclick = () => {
  if(state === "idle"){
    state = "waiting";
    box.textContent = "Wait for green...";
    box.className = "box ready";

    const delay = 1000 + Math.random() * 3000;
    timeout = setTimeout(go, delay);
  }

  else if(state === "waiting"){
    clearTimeout(timeout);
    state = "idle";
    box.textContent = "Too soon! Click to try again";
    box.className = "box tooSoon";
  }

  else if(state === "go"){
    const reaction = Math.floor(performance.now() - startTime);
    updateBest(reaction);
    state = "idle";
    box.textContent = `Reaction: ${reaction} ms\nClick to retry`;
    box.className = "box wait";
  }
};

function go(){
  state = "go";
  startTime = performance.now();
  box.textContent = "CLICK!";
  box.className = "box go";
}

function updateBest(time){
  if(best === null || time < best){
    best = time;
    bestEl.textContent = best;
  }
}
</script>

</body>
</html>
